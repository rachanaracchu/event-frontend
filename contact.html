<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
 <title>Contact Us</title>
  <link rel="stylesheet" href="contact.css" />
</head>
<body>
  <header>
    <h1>Contact Us</h1>
    <nav>
       <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <a href="home.html"><i class="fas fa-home"></i></a>
    </nav>
  </header>

  <main class="contact-container">
    <form class="contact-form" onsubmit="handleContact(event)">
      <label for="name">Your Name:</label>
      <input type="text" id="name" required />

      <label for="email">Email:</label>
      <input type="email" id="email" required />

      <label for="subject">Subject:</label>
      <input type="text" id="subject" required />

      <label for="message">Message:</label>
      <textarea id="message" rows="5" required></textarea>

      <button type="submit" class="btn">Send Message</button>
    </form>
  </main>

  <footer>
    <p>&copy; 2025 Event Management. All rights reserved.</p>
  </footer>

 <script>
function handleContact(e) {
  e.preventDefault();

  const contact = {
    name: document.getElementById("name").value.trim(),
    email: document.getElementById("email").value.trim(),
    subject: document.getElementById("subject").value.trim(),
    message: document.getElementById("message").value.trim()
  };

  fetch("http://localhost:8088/api/contact", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(contact)
  })
  .then(res => {
    if (!res.ok) throw new Error("Submission failed.");
    return res.text();
  })
  .then(msg => {
    alert(msg);
    document.querySelector('.contact-form').reset();
  })
  .catch(err => {
    alert("Failed to send message: " + err.message);
  });
}
</script>

</body>
</html>